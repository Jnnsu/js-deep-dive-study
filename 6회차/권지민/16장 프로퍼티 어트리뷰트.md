# 📚 프로퍼티 어트리뷰트

## 🎀 내부 슬롯과 내부 메서드
<img width="600" alt="image" src="https://github.com/mingzzi96/js-deep-dive-study/assets/134386378/8ce0c57d-417c-43be-83c6-6dbb110599a3">

내부 슬롯과 내부 메서드는 ECMAScript 사양에 정의된 대로 구현되어 JS 엔진에서 실제로 동작 하지만

JS 엔진 내부 로직이므로 원칙적으로 이 둘에 직접 접근하거나 호출할 수  있는 방법을 제공하지 않는다. 일부 내부 슬록과 내부 메서드에 한하여 간접적으로 접근할 수 있는 수단을 제공하기는 한다.

```js
const o = {};

o.[[Prototype]]	// Uncaught SyntaxError: Unexpected token '['
// 일부 내부 슬롯과 내부 메서드에 한하여 간접적으로 접근 가능하다.
o.__proto__		// Object.prototype
```

## 🎀 프로퍼티 어트리뷰트와 프로퍼티 디스크립터 객체

> 자바스크립트 엔진은 프로퍼티를 생성할 때 프로퍼티의 상태를 나타내는 프로퍼티 어트리뷰트를 기본값으로 자동 정의한다.

```js
const person = {
  name: 'kozel',
  age: '100'
}

console.log(Object.getOwnPropertyDescriptor(person, 'name');
// {value: "kozel", writable: true, enumerable: true, configurable: true}

// ES8부터 가능
console.log(Object.getOwnPropertyDescriptors(person);
/*
{
	name: {value: "kozel", writable: true, enumerable: true, configurable: true}
    age: {value: 100, writable: true, enumerable: true, configurable: true}
}
*/
```

`Object.getOwnPropertyDescriptor` 메서드를 호출할 때 첫 번째 매개변수에는 객체의 참조, 두 번째 매개변수에는 프로퍼티 키를 문자열로 전달한다.
이때 `Object.getOwnPropertyDescriptor` 메서드는 프로퍼티 디스크립터(PropertyDescriptor) 객체를 반환한다.

만약 존재하지 않은 프로퍼티나 상속 받은 프로퍼티에 대한 프로퍼티 디스크립터를 요구하면 `undefined`가 반환된다.

ES8에서 도입된 `Object.getOwnPropertyDescriptors`(s가 추가됨) 메서드는 모든 프로퍼티의 프로퍼티 디스크립터 객체들을 반환한다.

## 🎀 데이터 프로퍼티와 접근자 프로퍼티

데이터 프로퍼티는 다음과 같은 프로퍼티 어트리뷰트를 가진다.

JS 엔진이 프로퍼티를 생성할 때 기본값으로 자동 정의한다.

- [[Value]]
  - 프로퍼티 디스크립터 객체의 프로퍼티 : value
  - 프로퍼티 키를 통해 프로퍼티 값에 접근하면 반환되는 값이다.
  - 프로퍼티 키를 통해 프로퍼티 값을 변경하면 [[Value]]에 값을 재할당한다. 이때 프로퍼티가 없으면 프로퍼티를 동적 생성하고 생성된 프로퍼티의 [[Value]]에 값을 저장한다.

- [[Writable]]
  - 프로퍼티 디스크립터 객체의 프로퍼티 : writable
  - 프로퍼티 값의 변경 가능 여부를 나타내며 불리언 값을 갖는다.
  - [[Writable]]의 값이 false인 경우 해당 프로퍼티의 [[Value]]의 값을 변경할 수 없는 읽기 전용 프로퍼티가 된다.
    
- [[Enumerable]]
  - 프로퍼티 디스크립터 객체의 프로퍼티 : enumerable
  - 프로퍼티의 열거 가능 여부를 나타내며 불리언 값을 갖는다.
  - [[Enumerable]]의 값이 false인 경우 해당 프로퍼티는 for ... in 문이나 Object.keys 메서드 등으로 열거할 수 없다.
  
- [[Configurable]]
  - 프로퍼티 디스크립터 객체의 프로퍼티 : configurable
  - 프로퍼티의 재정의 가능 여부를 나타내며 불리언 값을 갖는다.
  - [[Configurable]]의 값이 false인 경우 해당 프로퍼티의 삭제, 프로퍼티 어트리뷰트 값의 변경이 금지된다. 단, [[Writable]]이 tru인 경우 [[Value]]의 변경과 [[Writable]]을 false로 변경하는 것은 허용된다.
