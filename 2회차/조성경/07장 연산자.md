# 7장 연산자

연산자(operator)는 하나 이상의 표현식을 대상으로 산술, 할당, 비교, 논리, 타입, 지수 연산 등을 수행해 하나의 값을 만든다.

피연산자 : 처리하는 값이라는 명사
연산자 : 피연산자를 연산하여 새로운 값을 만든다 라는 동사

## 산술 연산자
---
- 피 연산자를 대상으로 수학적 계산을 수행해 새로운 숫자 값을 만든다.
- 만약 산술연산이 불가능 할경우 `NaN`을 반환
### 이항 산술 연산자
이항(binary) 산술 연산자 **2개의 피연산자**를 산술 연산하여 숫자 값을 만든다.

| 이항 산술 연산자 | 의미 | 부수 효과 |
|----------------|------|----------|
| +              | 덧셈  | X        |
| -              | 뺄셈  | X        |
| *              | 곱셈  | X        |
| /              | 나눗셈| X        |
| %              | 나머지| X        |
```javascript
5 + 2;
5 - 2;
5 * 2;
5 / 2;
5 % 2;
```
### 7.1.2 단항 산술 연산자
단항(unary) 산술 연산자는 1개의 피연산자를 산술 연산 한다.

| 단항 산술 연산자 | 의미 | 부수 효과 |
|-----------------|------|----------|
| ++              | 증가  | O        |
| --              | 감소  | O        |
| +               | 양수를 표시한다. 영향을 미치지 않는다. | X        |
| -               | 양수를 음수로, 음수를 양수로 바꾼다. | X        |
#### 증가(++) / 감소(--) 연산자
**증가/감소(++/--) 연산자는 피연산자의 값을 변경하는 부수효과가 있다.**
- 피연산자의 앞에 위치할 경우 피연산자의 값을 증가/감소 시킨 후, 다른 연산을 수행한다.
- 피연산자의 뒤에 위치할 경우 먼저 다른 연산을 수행한 후, 피연산자의 값을 증가/감소 시킨다.

```javascript
var x = 5, result;

// 산술 연산자 후위(postfix increment operator)
result = x++;
console.log(result, x); // 5 6

// 산술 연산자 전위(prefix increment operator)
result = ++x;
console.log(result, x); // 7 7

// 산술 연산자 후위(postfix decrement operator)
result = x--;
console.log(result, x); // 7 6

// 산술 연산자 전위(prefix decrement operator)
result = --x;
console.log(result, x); // 5 5
```
#### `-` 단항 연산자
- 피연산자의 부호를 반전한 값으로 전달한다.
- 숫자 타입이 아닌 경우 피연산자를 숫자타입으로 변환한다.
- 피연산자의 직접적인 값을 변경하는 것은 아니고 반전한 값을 생성(side effect가 없다)
```javascript
-(-10); // 10

// 단항 음수를 적용한 타입 변환
- '10';  // -10

// 불리언 값을 음수로 타입 변환
- true;  // -1

// 단항 음수를 적용한 타입 변환 시 숫자로 변환할 수 없으므로 NaN을 반환
- 'Hello';  // NaN
```
### 7.1.3 문자열 연결 연산자
**\+ 연산자는 피연산자 중 하나 이상이 문자열인 경우 문자열 연결 연산자로 동작**
```javascript
// 문자열 연결 연산자
'1' + '2'; // '12'
1 + '2'; // '12'

// 산술 연산자
1 + 2; // 3

// true는 1로 타입 변환됩니다.
1 + true; // 2

// false는 0으로 타입 변환됩니다.
1 + false; // 1

// null은 0으로 타입 변환됩니다.
1 + null; // 1

// undefined는 숫자로 타입 변환되지 않습니다.
1 + undefined; // NaN

```
- 여기서 중요한 점은 **자바스크립트 엔진에 의해 암묵적으로 타입이 자동 변환**
- 1 + `true` 를 연산하면 true를 1로 강제 변환하여 2로 출력
- **암묵적 타입 변환, 타입 강제 변환** => 9장의 내용에서 자세히

## 7.2 할당 연산자
할당연산자(assignment operator) 우항에 있는 피연산자의 평가 결과를 좌항에 있는 변수에 할당한다.

| 할당 연산자 | 예 | 동일한 표현 | 부수 효과 |
|-------------|----|-------------|----------|
| =           | x = 5  | x = 5       | O        |
| +=          | x += 5 | x = x + 5   | O        |
| -=          | x -= 5 | x = x - 5   | O        |
| *=          | x *= 5 | x = x * 5   | O        |
| /=          | x /= 5 | x = x / 5   | O        |
| %=          | x %= 5 | x = x % 5   | O        |

```javascript
var x;

x = 10;
console.log(x); // 10

x += 5; // x = x + 5;
console.log(x); // 15

x -= 5; // x = x - 5;
console.log(x); // 10

x *= 5; // x = x * 5;
console.log(x); // 50

x /= 5; // x = x / 5;
console.log(x); // 10

x %= 5; // x = x % 5;
console.log(x); // 0

var str = 'My name is ';
// 문자열 연결 연산자
str += 'Lee'; // str = str + 'Lee';
console.log(str); // 'My name is Lee'

```
- **할당문은 값으로 평가되는 표현식인 문으로서 할당된 값으로 평가**
- 그렇기 때문에 `x = 10` 은 `10` 으로 평가된다.
- 그래서 아래와 같은 연쇄 할당도 가능하다
```javascript
var a, b, c;
a = b = c = 0;
console.log(a, b, c) // 0 0 0
```

## 7.3 비교 연산자
---
- 비교 연산자는 좌항과 우항의 피 연산자를 비교한 다음 불리언 값으로 반환
- if 문이나 for 문과 같은 제어문의 조건식에서 주로 사용
### 7.3.1 동등/ 일치 비교 연산자

| 비교 연산자 | 의미 | 사례 | 설명 | 부수 효과 |
|-------------|------|------|------|----------|
| ==          | 동등 비교 | x == y | x와 y의 값이 같음 | X |
| ===         | 일치 비교 | x === y | x와 y의 값과 타입이 같음 | X |
| !=          | 부등호 비교 | x != y | x와 y의 값이 다름 | X |
| !==         | 불일치 비교 | x !== y | x와 y의 값과 타입이 다름 | X |

- 동등 비교(`\==`), 부등호 비교(`!=`) 연산자는 좌항과 우항의 피 연산자를 비교할때
- **암묵적 타입 변환**을 통해 타입을 일치시키고 같은 값인지 비교
- 이는 예측하기 어려운 결과를 만들어내요 사용하지 않는 편이 좋다.
- 대신 일치 비교(`===`, 불일치 비교(`!==`) 연산자를 사용한다.

#### 일치 비교(`===`, 불일치 비교(`!==`) 연산자
- 피연산자가 타입도 같은지 체크
- 값도 같은지 체크 한다.

### 주의 할점?
- **`NaN` 연산자**
```javascript
NaN === NaN //false
// NaN은 자신과 일치하지 않는 유일한 값
```
그렇기 깨문에 숫자가 NaN인지 조사하려면 빌트인 함수 `Number.isNaN`을 사용한다.
```javascript
// Number.isNaN 함수는 인자가 NaN인지 확인하고 그 결과를 불리언 값으로 반환합니다.

Number.isNaN(NaN); // true
Number.isNaN(10); // false
Number.isNaN(1 + undefined); // true
```
> **Object.is 메서드**
> ES6에 도입된 `Object.is`메서드 아래와 같이 예측 가능한 정확한 비교 결과를 반환한다.

```javascript
-0 === +0; // true
Object.is(-0, +0); // false

NaN === NaN; // false
Object.is(NaN, NaN); // true
```
- **숫자 0**
	- 자바스크립트는 양수의 0과 음수의 0이 있다.
	- 하지만 이 둘을 비교하면 `TRUE`를 반환한다.
```javascript
0 === -0 //true
0 == -0; // true
```
### 7.3.2 대소 관계 비교 연산자
피 연산자의 크기를 비교하여 불리언 값을 반환한다.

| 대소 관계 비교 연산자 | 의미 | 설명 | 부수 효과 |
|-----------------------|------|------|----------|
| >                     | x > y | x가 y보다 크다 | X |
| <                     | x < y | x가 y보다 작다 | X |
| >=                    | x >= y | x가 y보다 크거나 같다 | X |
| <=                    | x <= y | x가 y보다 작거나 같다 | X |

## 7.4 삼항 조건 연산자
- 조건식의 평가 결과에 따라 반환한 값을 결정한다.
- 첫번째 피 연산자가 `true`
	- 두번 째 피 연산자를 반환
- 첫번째 피연산자가 `false`
	- 세 번째 피연산자를 반환한다.
```javascript
var x = 10;

// 삼항 조건 연산자 표현식은 조건부 표현식이라고도 한다. 표현식 결과에 따라 값을 사용할 수 있다.
var result = x % 2 ? '홀수' : '짝수';
console.log(result); // 짝수
```
## 7.5 논리 연산자
---
우항과 좌항의 피연산자를 논리 연산한다.

| 논리 연산자 | 의미       | 부수 효과 |
|-------------|------------|----------|
| \|\|        | 논리합(OR) | X        |
| &&          | 논리곱(AND)| X        |
| !           | 부정(NOT)  | X        |

## 7.8 typeof 연산자

```javascript
typeof ''; // "string"
typeof 1; // "number"
typeof NaN; // "number"
typeof true; // "boolean"
typeof undefined; // "undefined"
typeof Symbol(); // "symbol"
typeof null; // "object"
typeof []; // "object"
typeof {}; // "object"
typeof new Date(); // "object"
typeof /test/gi; // "object"
typeof function () {}; // "function"

```
- **`null`의 경우 자바스크립트 초기 설계의 오류로 인해 `"object"`를 반환**
- 따라서 `null` 타입인지 확인할때는 **일치 연산자(`===`)를 사용**한다.
```javascript
var foo = null;

typeof foo === null; // false
foo === null; // true
```
## 7.10 그 외의 연산자

| 연산자     | 기능                    | 출처                   |
|------------|-------------------------|------------------------|
| ?.         | 옵셔널 체이닝 연산자    | 9.4.2절 "옵셔널 체이닝 연산자" |
| ??         | null 병합 연산자        | 9.4.3절 "null 병합 연산자"     |
| delete     | 프로퍼티 삭제           | 10.8절 "프로퍼티 삭제"         |
| new        | 생성자 함수를 통한 객체 생성 | 17.2.6절 "new 연산자"         |
| instanceof | 객체의 클래스 확인      | 19.10절 "instanceof 연산자"   |
| in         | 프로퍼티 존재 확인      | 19.13.1절 "in 연산자"         |
> 옵셔널 체이닝 연산자 `?.`는 객체의 속성을 읽을 때 해당 속성이 존재하지 않아 `undefined`를 반환할 가능성이 있을 때 매우 유용합니다. 이 연산자는 객체의 속성이 `null` 또는 `undefined`인 경우에 오류를 발생시키지 않고 그대로 `undefined`를 반환
```javascript
let street = user.address?.street;
//만약 `address`가 `undefined` 또는 `null`이면, `street` 변수는 `undefined`로 할당되며, 프로그램은 오류 없이 계속 실행
```
